<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
body {
  margin:0;
  background:white;
  font-family:'Inter',sans-serif;
  overflow:hidden;
  user-select:none;
}
* {
  -webkit-user-drag:none;
  touch-action:none;
}
canvas {
  position:fixed;
  top:0;
  left:0;
  z-index:0;
}
.content {
  position:relative;
  z-index:1;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  padding-left:10vw;
  padding-top:9vh;
  color:#111;
}
h1 {
  font-size:2.4rem;
  font-weight:500;
  letter-spacing:0.12em;
  margin:0;
}
.subtitle {
  margin-top:10px;
  font-weight:400;
  letter-spacing:0.15em;
  font-size:0.9rem;
}
.section {
  margin-top:60px;
  font-size:0.75rem;
  letter-spacing:0.2em;
}
.item {
  margin-top:14px;
  font-size:1rem;
  letter-spacing:0.08em;
  text-decoration:none;
  color:#111;
}
.control-btn {
  margin-top:40px;
  font-size:0.75rem;
  letter-spacing:0.2em;
  background:none;
  border:none;
  cursor:pointer;
  color:#111;
  margin-right:20px;
}
.control-btn:hover {
  opacity:0.6;
}
/* ===== „Çπ„Éû„ÉõÂØæÂøú ===== */
@media (max-width: 768px){
  .content {
    padding-top:15vh;
    padding-left:5vw;
  }
  h1 { font-size:3rem; }
  .subtitle { font-size:1.2rem; }
  .section { font-size:1rem; }
  .item { font-size:1.2rem; margin-top:18px; }
  .control-btn { font-size:1rem; margin-top:50px; }
}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div class="content">
  <h1>kinotamag</h1>
  <div class="subtitle">ü•öü•ö ü•ö</div>
  <div class="section">WORKS</div>
  <a href="#" class="item">01</a>
  <a href="#" class="item">02</a>
  <div class="section">CONTACT</div>
  <div>
    <button class="control-btn" onclick="saveImage()">FREEZE</button>
    <button class="control-btn" onclick="resetCanvas()">RESET</button>
  </div>
</div>
<script>
/* ===== FREEZE ===== */
function saveImage() {
  html2canvas(document.body).then(canvasImage => {
    const link = document.createElement("a");
    link.download = "trail.png";
    link.href = canvasImage.toDataURL();
    link.click();
  });
}

/* ===== RESET ===== */
function resetCanvas() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawCount = 0;
  points = [];
}

/* ===== ËÉåÊôØ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ ===== */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

let isMobile = /Mobi|Android/i.test(navigator.userAgent);
let maxWidth = isMobile ? 25 : 45; // PC„ÅØ„Åï„Çâ„Å´Â§™„Åè
const minWidth = 0.5;
const ease = 0.22;
const maxPoints = 10;
let width = maxWidth;
let points = [];
let drawCount = 0;
const maxDraw = 450;

// ÊèèÁîªÂà∂ÈôêÔºà„Çπ„Éû„Éõ‰∏ãÁ´Ø„ÅåË¶ãÂàá„Çå„Å™„ÅÑ„Çà„ÅÜ„Å´Ôºâ
function getCanvasHeight() {
  return isMobile ? window.innerHeight - 30 : window.innerHeight;
}

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = getCanvasHeight();
}
resize();

/* „Éû„Ç¶„Çπ/„Çø„ÉÉ„ÉÅ */
let mouse = { x: canvas.width/2, y: canvas.height/2 };
let pen = { x: mouse.x, y: mouse.y };
let lastPen = { x: pen.x, y: pen.y };

window.addEventListener("mousemove", e=>{
  mouse.x = e.clientX;
  mouse.y = Math.min(e.clientY, canvas.height); // ‰∏ã„ÅØÊèè„Åë„Å™„ÅÑ
});
window.addEventListener("touchstart", e=>{
  mouse.x = e.touches[0].clientX;
  mouse.y = Math.min(e.touches[0].clientY, canvas.height);
});
window.addEventListener("touchmove", e=>{
  mouse.x = e.touches[0].clientX;
  mouse.y = Math.min(e.touches[0].clientY, canvas.height);
});

/* ===== ÊèèÁîª ===== */
function draw() {
  // „Ç§„Éº„Ç∏„É≥„Ç∞
  pen.x += (mouse.x - pen.x) * ease;
  pen.y += (mouse.y - pen.y) * ease;

  const dx = pen.x - lastPen.x;
  const dy = pen.y - lastPen.y;
  const speed = Math.sqrt(dx*dx + dy*dy);

  // Â§™„ÅïÂ§âÂåñ„ÇíÂ∞ë„ÅóÂº∑„ÇÅ„Å¶Â¢®ÊÑü„Ç¢„ÉÉ„Éó
  let targetWidth = maxWidth - Math.pow(speed*1.2,0.9);
  if(targetWidth < minWidth) targetWidth = minWidth;
  width += (targetWidth - width) * 0.25;

  points.push({x: pen.x, y: pen.y, w: width});
  if(points.length > maxPoints) points.shift();

  if(points.length >= 2){
    for(let i=0; i<points.length-1; i++){
      const p1 = points[i+1];
      if(p1.y > canvas.height) continue; // ‰∏ãÁ´ØÂà∂Èôê
      ctx.beginPath();
      ctx.moveTo(points[i].x, points[i].y);
      ctx.lineTo(p1.x, p1.y);
      // Â§™„Åï„Å´„É©„É≥„ÉÄ„É†Â§âÂåñ„ÅßÂ¢®„Å£„ÅΩ„Åè
      const w = p1.w * (0.85 + Math.random()*0.3);
      ctx.lineWidth = w;
      // Èªí„ÅÆÊøÉÊ∑°„É©„É≥„ÉÄ„É†Âº∑Âåñ
      const shade = Math.floor(Math.random()*20); // 0~19„Åß„Çà„ÇäÊøÉ„ÅÑÂ¢®
      ctx.strokeStyle = `rgb(${shade},${shade},${shade})`;
      ctx.lineCap = "round";
      ctx.stroke();
      drawCount++;
    }
  }

  // Âæê„ÄÖ„Å´ËñÑ„Åè
  if(drawCount > maxDraw){
    ctx.fillStyle = "rgba(255,255,255,0.008)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
  }

  lastPen.x = pen.x;
  lastPen.y = pen.y;
  requestAnimationFrame(draw);
}

draw();
window.addEventListener("resize", resize);
</script>
</body>
</html>





























